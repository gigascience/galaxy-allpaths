<tool id="allpaths" name="ALLPATHS-LG" version="0.1">
    <description>- assembly of S. aureus and R. sphaeroides datasets</description>
    <command interpreter="python">
        allpaths.py

        --tool_dir=$__tool_directory__

        ## Reference source
        --data_source=$select_data_source.data_source

        ## Output files
        --contigs=$contigs
        --scaffolds=$scaffolds
        --in_groups=$in_groups
        --in_libs=$in_libs
    </command>
    <inputs>
        <conditional name="select_data_source">
            <param name="data_source" type="select" label="Select bacterial dataset to process">
                <option value="aureus">S. aureus</option>
                <option value="sphaeroides">R. sphaeroides</option>
            </param>
        </conditional>
    </inputs>
    <outputs>
        <data name="contigs"
              type="data"
              format="txt"
              label="allpaths.contigs">
        </data>
        <data name="scaffolds"
              type="data"
              format="txt"
              label="allpaths.scaffolds">
        </data>
        <data name="in_groups"
              type="data"
              format="txt"
              label="in.groups">
        </data>
        <data name="in_libs"
              type="data"
              format="txt"
              label="in.libs">
        </data>
    </outputs>
    <tests>
        <test>
            <param name="data_source" value="aureus"/>
            <output name="in_groups">
                    <assert_contents>
                        <has_text text="                     file_name, library_name, group_name" />
                    </assert_contents>
            </output>
        </test>
    </tests>
    <help>
**What it does**

This tool returns the results processed from either the S. aureus or R.
sphaeroides set of short reads using ALLPATHS version 42807. These datasets can
be viewed by using the Shared Data drop down menu and clicking Data Libraries.

The reason for the hard-coding of ALLPATHS to only display the results of these
two bacterial datasets is to (try to) show a reproduction of the results from
Table 2 reported in Luo et al., (2012) SOAPdenovo2: an empirically improved
memory-efficient short-read de novo assembler. GigaScience 2012, 1:18. These
results produced by ALLPATHS involved using the Perl script
PrepareAllPathsInputs.pl to initially transform the Fasta-formatted short read
files into ALLPATHS input files before genome assembly.

The ALLPATHS software is developed by the Computational Research and Development
group at the Broad Institute. Use of ALLPATHS should be accompanied with the
following citation:

Ribeiro F, Przybylski D, Yin S, Sharpe T, Gnerre S, Abouelleil A, Berlin AM,
Montmayeur A, Shea TP, Walker BJ, Young SK, Russ C, MacCallum I, Nusbaum C,
Jaffe DB.  Finished bacterial genomes from shotgun sequence data. Genome
Research 22: 2270â€“7.

-----

**Outputs**

Four outputs are generated by this tool:

1. Contigs
2. Scaffolds
3. in_groups - contains information on the nickname, library name and file names
   of the the data set used to execute the ALLPATHS process.
4. in_libs - describes and provides statistics of the files in the data set used
   in the ALLPATHS process.
    </help>
</tool>

